!function(){"use strict";document.addEventListener("DOMContentLoaded",function(){document.addEventListener("click",async e=>{if(e.target.closest(".blockblog-header")||e.target.closest(".blockblog-menu-toggler")||e.target.closest("body").querySelectorAll(".blockblog-header").forEach(e=>{e.classList.remove("nav-shown")}),e.target.closest(".blockblog-menu-toggler")&&(e.preventDefault(),e.target.closest(".blockblog-header").querySelectorAll(".blockblog-nav")[0].classList.toggle("nav-shown")),e.target.closest("a")?.getAttribute("data-blockblog-load")){e.preventDefault(),e.target.closest("body").querySelector("header .blockblog-top-progress").classList.add("loading");const t=e.target.closest("a").getAttribute("data-blockblog-load"),o=await fetch(t),c=document.body;if(o.ok){const e=await o.text(),s=e.match(/<body[^>]*>([\s\S]*)<\/body>/),r=e.match(/<head[^>]*>([\s\S]*?)<\/head>/);if(r){const e=r[1].match(/<script[^>]*src="([^"]*)"[^>]*><\/script>/g);e&&e.forEach(e=>{const t=e.match(/src="([^"]*)"/);if(t){const e=document.createElement("script");e.src=t[1],e.async=!0,document.head.appendChild(e)}});const t=r[1];document.head.innerHTML=t}if(s){const e=s[1].match(/<script[^>]*src="([^"]*)"[^>]*><\/script>/g);e&&e.forEach(e=>{const t=e.match(/src="([^"]*)"/);if(t){const e=document.createElement("script");e.src=t[1],e.async=!0,document.body.appendChild(e)}}),c.innerHTML=s[1]}else c.innerHTML='<div class="blockblog-error">Content not found</div>';history.pushState({},"",t)}else c.innerHTML='<div class="blockblog-error">Content not found</div>'}if(e.target.closest(".blockblog-header-search")){e.preventDefault();const t=document.body;e.target.closest("body").querySelector("header .blockblog-top-progress").classList.add("loading");const o=e.target.closest(".blockblog-search").querySelector("input").value.trim();if(o){const e=`/?s=${encodeURIComponent(o)}`,c=await fetch(e);let s;s=c.ok?await c.text():`<div class="blockblog-search-error">No results found for "${o}"</div>`,t.innerHTML=s,t.querySelector(".blockblog-search input").value=o,history.pushState({},"",e)}}}),document.addEventListener("keydown",e=>{if(e.ctrlKey&&"k"===e.key||"/"===e.key){"/"!==e.key&&e.preventDefault();const t=document.querySelector(".blockblog-search input");t&&t.focus()}})})}();
//# sourceMappingURL=main.js.map